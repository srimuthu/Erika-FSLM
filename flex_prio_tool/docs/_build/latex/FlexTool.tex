%% Generated by Sphinx.
\def\sphinxdocclass{report}
\documentclass[letterpaper,10pt,english]{sphinxmanual}
\ifdefined\pdfpxdimen
   \let\sphinxpxdimen\pdfpxdimen\else\newdimen\sphinxpxdimen
\fi \sphinxpxdimen=.75bp\relax

\usepackage[utf8]{inputenc}
\ifdefined\DeclareUnicodeCharacter
 \ifdefined\DeclareUnicodeCharacterAsOptional\else
  \DeclareUnicodeCharacter{00A0}{\nobreakspace}
\fi\fi
\usepackage{cmap}
\usepackage[T1]{fontenc}
\usepackage{amsmath,amssymb,amstext}
\usepackage{babel}
\usepackage{times}
\usepackage[Bjarne]{fncychap}
\usepackage[dontkeepoldnames]{sphinx}

\usepackage{geometry}

% Include hyperref last.
\usepackage{hyperref}
% Fix anchor placement for figures with captions.
\usepackage{hypcap}% it must be loaded after hyperref.
% Set up styles of URL: it should be placed after hyperref.
\urlstyle{same}

\addto\captionsenglish{\renewcommand{\figurename}{Fig.}}
\addto\captionsenglish{\renewcommand{\tablename}{Table}}
\addto\captionsenglish{\renewcommand{\literalblockname}{Listing}}

\addto\extrasenglish{\def\pageautorefname{page}}

\setcounter{tocdepth}{1}



%\title{FlexTool Documentation}
%\date{Jun 28, 2017}
%\release{1.0.0}
%\author{S.M.N. Balasubramanian}
%\newcommand{\sphinxlogo}{\vbox{}}
%\renewcommand{\releasename}{Release}
%\makeindex

\begin{document}
%
%\maketitle
%\sphinxtableofcontents
%\phantomsection\label{\detokenize{index::doc}}
%
%
%Utility tool for FSLM implementation in Erika Enterprise:
%\begin{enumerate}
%\item {} 
%Determine priorities from OIL file
%
%\item {} 
%Receive user input for spin-lock priorities
%
%\item {} 
%Add spin-lock priorities to Erika application
%
%\item {} 
%Modify stack to create dual shared stack
%
%\end{enumerate}
%
%
%\chapter{Contents:}
%\label{\detokenize{index:contents}}\label{\detokenize{index:welcome-to-flextool-s-documentation}}
%
%\section{Auto Generated Documentation}
%\label{\detokenize{code::doc}}\label{\detokenize{code:module-FlexTool}}\label{\detokenize{code:auto-generated-documentation}}\index{FlexTool (module)}\index{FlexTool (class in FlexTool)}

\begin{fulllineitems}
\phantomsection\label{\detokenize{code:FlexTool.FlexTool}}\pysiglinewithargsret{\sphinxstrong{class }\sphinxcode{FlexTool.}\sphinxbfcode{FlexTool}}{\emph{oilPath}}{}
FlexTool Class - Utility tool for FSLM implementation in Erika Enterprise
\begin{description}
\item[{Comments}] \leavevmode{[}{]}\begin{enumerate}
\item {} 
Determine priorities from OIL file

\item {} 
Receive user input for spin-lock priorities

\item {} 
Add spin-lock priorities to Erika application

\item {} 
Modify configuration files to create dual shared stack

\end{enumerate}

\end{description}
\index{\_FlexTool\_\_calculateSpinPriorities() (FlexTool.FlexTool method)}

\begin{fulllineitems}
\phantomsection\label{\detokenize{code:FlexTool.FlexTool._FlexTool__calculateSpinPriorities}}\pysiglinewithargsret{\sphinxbfcode{\_FlexTool\_\_calculateSpinPriorities}}{}{}
Convert user input spin-priorities to Erika format (2\textasciicircum{}i)

\end{fulllineitems}

\index{\_FlexTool\_\_calculateStackAllocation() (FlexTool.FlexTool method)}

\begin{fulllineitems}
\phantomsection\label{\detokenize{code:FlexTool.FlexTool._FlexTool__calculateStackAllocation}}\pysiglinewithargsret{\sphinxbfcode{\_FlexTool\_\_calculateStackAllocation}}{}{}
Group tasks on a core to 2 stacks based on spin-lock priority

\end{fulllineitems}

\index{\_FlexTool\_\_createResourceList() (FlexTool.FlexTool method)}

\begin{fulllineitems}
\phantomsection\label{\detokenize{code:FlexTool.FlexTool._FlexTool__createResourceList}}\pysiglinewithargsret{\sphinxbfcode{\_FlexTool\_\_createResourceList}}{}{}
Create Resouce list data structure from OIL file
\begin{description}
\item[{Comments:}] \leavevmode
\_\_resourceInfo dict consists of

\{resID (int) :   resource name (str)\}

\end{description}

\end{fulllineitems}

\index{\_FlexTool\_\_createTaskData() (FlexTool.FlexTool method)}

\begin{fulllineitems}
\phantomsection\label{\detokenize{code:FlexTool.FlexTool._FlexTool__createTaskData}}\pysiglinewithargsret{\sphinxbfcode{\_FlexTool\_\_createTaskData}}{\emph{task\_counter}}{}
Create Task information data structure from OIL file
\begin{description}
\item[{Comments:}] \leavevmode
The \_\_taskInfo dict consists of:

taskID (int) : {[}  {[}0{]} taskName (str),
\begin{quote}

{[}1{]} cpuID (int),

{[}2{]} cpuName (str),

{[}3{]} taskPriority (int),

{[}4{]} resourceBool (bool),

{[}5{]} resources (list) = {[}resourceName (str){]} {]}
\end{quote}

\end{description}

\end{fulllineitems}

\index{\_FlexTool\_\_displayParams() (FlexTool.FlexTool method)}

\begin{fulllineitems}
\phantomsection\label{\detokenize{code:FlexTool.FlexTool._FlexTool__displayParams}}\pysiglinewithargsret{\sphinxbfcode{\_FlexTool\_\_displayParams}}{}{}
Output task, resource and CPU info to the console

\end{fulllineitems}

\index{\_FlexTool\_\_editSystemTos() (FlexTool.FlexTool method)}

\begin{fulllineitems}
\phantomsection\label{\detokenize{code:FlexTool.FlexTool._FlexTool__editSystemTos}}\pysiglinewithargsret{\sphinxbfcode{\_FlexTool\_\_editSystemTos}}{\emph{block\_data}, \emph{cpu}}{}
Edit “EE\_nios2\_system\_tos” variable in “eecfg.c”
\begin{description}
\item[{Arguments:}] \leavevmode
block\_data - Part of file buffer from eecfg.c containing EE\_nios2\_system\_tos,

cpu - CPU ID (cpu which the eecfg.c file belongs to)

\item[{Returns:}] \leavevmode
Success or Failed (bool),

Edited file buffer of eecfg.c containing EE\_nios2\_system\_tos

\end{description}

\end{fulllineitems}

\index{\_FlexTool\_\_editThreadTos() (FlexTool.FlexTool method)}

\begin{fulllineitems}
\phantomsection\label{\detokenize{code:FlexTool.FlexTool._FlexTool__editThreadTos}}\pysiglinewithargsret{\sphinxbfcode{\_FlexTool\_\_editThreadTos}}{\emph{block\_data}, \emph{cpu}}{}
Edit “EE\_hal\_thread\_tos” variable in “eecfg.c”
\begin{description}
\item[{Arguments:}] \leavevmode
block\_data - Part of file buffer from eecfg.c containing EE\_hal\_thread\_tos,

cpu - CPU ID (cpu which the eecfg.c file belongs to)

\item[{Returns:}] \leavevmode
Success or Failed (bool),

Edited file buffer of eecfg.c containing EE\_hal\_thread\_tos

\end{description}

\end{fulllineitems}

\index{\_FlexTool\_\_findBraceBlock() (FlexTool.FlexTool method)}

\begin{fulllineitems}
\phantomsection\label{\detokenize{code:FlexTool.FlexTool._FlexTool__findBraceBlock}}\pysiglinewithargsret{\sphinxbfcode{\_FlexTool\_\_findBraceBlock}}{\emph{data}, \emph{item}}{}
”
Identify the brace enclosed block containing a given string
\begin{description}
\item[{Arguments: }] \leavevmode
data - file buffer ,

item - item to be found (str)

\item[{Returns:}] \leavevmode
Index of brace block start

Index of brace block end

Data enclosed between in the block containing the (item)

\end{description}

\end{fulllineitems}

\index{\_FlexTool\_\_findGlobalResources() (FlexTool.FlexTool method)}

\begin{fulllineitems}
\phantomsection\label{\detokenize{code:FlexTool.FlexTool._FlexTool__findGlobalResources}}\pysiglinewithargsret{\sphinxbfcode{\_FlexTool\_\_findGlobalResources}}{}{}
Identify global resources (classify local and global resources)

\end{fulllineitems}

\index{\_FlexTool\_\_parseCpuInfo() (FlexTool.FlexTool method)}

\begin{fulllineitems}
\phantomsection\label{\detokenize{code:FlexTool.FlexTool._FlexTool__parseCpuInfo}}\pysiglinewithargsret{\sphinxbfcode{\_FlexTool\_\_parseCpuInfo}}{}{}
Extract CPU information from OIL file

Called by   :   parseOilFile()
\begin{description}
\item[{Comments}] \leavevmode{[}{]}
Iterate through the OIL file and save CPU info to \_\_cpuInfo dict
\_\_cpuInfo:
\{ cpuID (int) : cpuName (str) \}

\end{description}

\end{fulllineitems}

\index{\_FlexTool\_\_parseTaskInfo() (FlexTool.FlexTool method)}

\begin{fulllineitems}
\phantomsection\label{\detokenize{code:FlexTool.FlexTool._FlexTool__parseTaskInfo}}\pysiglinewithargsret{\sphinxbfcode{\_FlexTool\_\_parseTaskInfo}}{}{}
Extract task information from OIL file

\end{fulllineitems}

\index{\_FlexTool\_\_reducePriorities() (FlexTool.FlexTool method)}

\begin{fulllineitems}
\phantomsection\label{\detokenize{code:FlexTool.FlexTool._FlexTool__reducePriorities}}\pysiglinewithargsret{\sphinxbfcode{\_FlexTool\_\_reducePriorities}}{}{}
Transform priority levels within a core to consecutive values starting with 0 (lowest)

\end{fulllineitems}

\index{\_FlexTool\_\_spliceTextToFileBuffer() (FlexTool.FlexTool method)}

\begin{fulllineitems}
\phantomsection\label{\detokenize{code:FlexTool.FlexTool._FlexTool__spliceTextToFileBuffer}}\pysiglinewithargsret{\sphinxbfcode{\_FlexTool\_\_spliceTextToFileBuffer}}{\emph{file\_buffer}, \emph{block\_data}, \emph{start\_index}, \emph{end\_index}}{}
Inserts given text into a file at specified location
\begin{description}
\item[{Arguments:}] \leavevmode
file\_buffer - Full file buffer

block\_data - Data to be inserted

start\_index - Start position to insert

end\_index - End position

\item[{Returns:}] \leavevmode
splicedList - Full file buffer with block\_data inserted

\end{description}

\end{fulllineitems}

\index{calculatePriorities() (FlexTool.FlexTool method)}

\begin{fulllineitems}
\phantomsection\label{\detokenize{code:FlexTool.FlexTool.calculatePriorities}}\pysiglinewithargsret{\sphinxbfcode{calculatePriorities}}{}{}
Calculate CP, CP hat and HP priorities
\begin{description}
\item[{Calls}] \leavevmode{[}{]}
\_\_findGlobalResources()

\_\_reducePriorities()

\_\_displayParams()

\item[{Called by}] \leavevmode{[}{]}
main() using FlexTool object

\item[{Comments}] \leavevmode{[}{]}\begin{enumerate}
\item {} 
Identify global variables

\item {} 
Transform priority levels within a core to consecutive values starting with 0 (lowest)

\item {} 
Use available data to find CP, CP hat and HP for every core

\end{enumerate}

\end{description}

\end{fulllineitems}

\index{getUserInput() (FlexTool.FlexTool method)}

\begin{fulllineitems}
\phantomsection\label{\detokenize{code:FlexTool.FlexTool.getUserInput}}\pysiglinewithargsret{\sphinxbfcode{getUserInput}}{}{}
Get input from the user
\begin{description}
\item[{Calls}] \leavevmode{[}{]}
\_\_calculateSpinPriorities()

\_\_calculateStackAllocation()

\item[{Called by}] \leavevmode{[}{]}
main() using FlexTool object

\item[{Comments}] \leavevmode{[}{]}\begin{enumerate}
\item {} 
Prompt user for spin-lock priority per core

\item {} 
Convert priorities to HEX

\item {} 
Determine stack allocation of tasks into dual stacks on each core

\end{enumerate}

\end{description}

\end{fulllineitems}

\index{initializeFlexSpinToolVars() (FlexTool.FlexTool method)}

\begin{fulllineitems}
\phantomsection\label{\detokenize{code:FlexTool.FlexTool.initializeFlexSpinToolVars}}\pysiglinewithargsret{\sphinxbfcode{initializeFlexSpinToolVars}}{}{}
Initialize the flexible spin-lock priority tool related variables
\begin{description}
\item[{Called by}] \leavevmode{[}{]}
main() using FlexTool object

\item[{Comments}] \leavevmode{[}{]}
Uses variables \_\_cpuInfo, \_\_taskInfo, \_\_resourceInfo to construct mapping between tasks, cores and resources

\end{description}

\end{fulllineitems}

\index{parseOilFile() (FlexTool.FlexTool method)}

\begin{fulllineitems}
\phantomsection\label{\detokenize{code:FlexTool.FlexTool.parseOilFile}}\pysiglinewithargsret{\sphinxbfcode{parseOilFile}}{}{}
Parse and extract information from OIL file
\begin{description}
\item[{Returns}] \leavevmode{[}{]}
self.\_\_cpuInfo, self.\_\_taskInfo, self.\_\_resourceInfo

\item[{Calls}] \leavevmode{[}{]}
\_\_parseCpuInfo(), \_\_parseTaskInfo(), \_\_createResourceList()

\item[{Called by}] \leavevmode{[}{]}
main() using FlexTool object

\end{description}

\end{fulllineitems}

\index{promptUser() (FlexTool.FlexTool method)}

\begin{fulllineitems}
\phantomsection\label{\detokenize{code:FlexTool.FlexTool.promptUser}}\pysiglinewithargsret{\sphinxbfcode{promptUser}}{}{}
Prompts user to rebuild Erika.
\begin{description}
\item[{Comments: }] \leavevmode
This prompt is followed by the editing of eecfg.c files for dual stack implementation

\end{description}

\end{fulllineitems}

\index{returnFlexSpinInfo() (FlexTool.FlexTool method)}

\begin{fulllineitems}
\phantomsection\label{\detokenize{code:FlexTool.FlexTool.returnFlexSpinInfo}}\pysiglinewithargsret{\sphinxbfcode{returnFlexSpinInfo}}{}{}
Return \_\_spinPrio, \_\_tasks2stack, \_\_cpuInfo, \_\_tasks2cores

\end{fulllineitems}

\index{updateCfgFiles() (FlexTool.FlexTool method)}

\begin{fulllineitems}
\phantomsection\label{\detokenize{code:FlexTool.FlexTool.updateCfgFiles}}\pysiglinewithargsret{\sphinxbfcode{updateCfgFiles}}{}{}
Function to update Erika configuration files “eecfg.c” on all cores to include stack information
\begin{description}
\item[{Called by}] \leavevmode{[}{]}
main() using FlexTool object

\item[{Comments}] \leavevmode{[}{]}
For all cores, modifies the “eecfg.c” to have only 2 shared stacks per core as per dual stack configuration

\end{description}

\end{fulllineitems}

\index{updateOilFile() (FlexTool.FlexTool method)}

\begin{fulllineitems}
\phantomsection\label{\detokenize{code:FlexTool.FlexTool.updateOilFile}}\pysiglinewithargsret{\sphinxbfcode{updateOilFile}}{}{}
Modifies task stack info in OIL file to accommodate dual stack
\begin{description}
\item[{Called by}] \leavevmode{[}{]}
main() using FlexTool object

\item[{Comments}] \leavevmode{[}{]}
Update “conf.OIL” file with task STACK attribute
\begin{enumerate}
\item {} 
SHARED for tasks with priorities upto spin-lock priority

\item {} 
PRIVATE for other tasks (later modified to shared after code generation by updateCfgFiles() )

\end{enumerate}

————\textendash{}!!!WARNING!!!————\textendash{}

Only works for single line STACK attribute.
Please specify the STACK attribute in a single line in the OIL file
i.e keyword “STACK” and terminator “;” must be on the same line.

\end{description}

\end{fulllineitems}

\index{updateSourceFiles() (FlexTool.FlexTool method)}

\begin{fulllineitems}
\phantomsection\label{\detokenize{code:FlexTool.FlexTool.updateSourceFiles}}\pysiglinewithargsret{\sphinxbfcode{updateSourceFiles}}{}{}
Update the application source files based on user input for spin-lock priority
\begin{description}
\item[{Called by}] \leavevmode{[}{]}
main() using FlexTool object

\item[{Comments}] \leavevmode{[}{]}
Update “cpuXX\_main.c” files for all cores
\begin{enumerate}
\item {} 
update EE\_th\_spin\_prio

\item {} 
update GlobalTaskID

\end{enumerate}

Throws error if the above variables are not found in the file

Also throws error if the file “cpuXX\_main.c” is not found (XX = cpu ID (integer))

\end{description}

\end{fulllineitems}


\end{fulllineitems}



%\chapter{Indices and tables}
%\label{\detokenize{index:indices-and-tables}}\begin{itemize}
%\item {} 
%\DUrole{xref,std,std-ref}{genindex}
%
%\item {} 
%\DUrole{xref,std,std-ref}{modindex}
%
%\item {} 
%\DUrole{xref,std,std-ref}{search}
%
%\end{itemize}
%
%
%\renewcommand{\indexname}{Python Module Index}
%\begin{sphinxtheindex}
%\def\bigletter#1{{\Large\sffamily#1}\nopagebreak\vspace{1mm}}
%\bigletter{f}
%\item {\sphinxstyleindexentry{FlexTool}}\sphinxstyleindexpageref{code:\detokenize{module-FlexTool}}
%\end{sphinxtheindex}
%
%\renewcommand{\indexname}{Index}
%\printindex
\end{document}